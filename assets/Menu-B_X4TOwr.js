import{a as m,r as o,j as t,c as _,L as g,P as j}from"./index-D10Qv6Mc.js";import{T as C}from"./Title-Cbix7rrc.js";const{Axios:D,AxiosError:f,CanceledError:J,isCancel:V,CancelToken:X,VERSION:q,all:z,Cancel:B,isAxiosError:G,spread:K,toFormData:Q,AxiosHeaders:U,HttpStatusCode:W,formToJSON:Y,getAdapter:Z,mergeConfig:tt}=m,I="_input_111py_1",l={input:I},N=o.forwardRef(function({isValid:s=!0,className:a,...c},i){return t.jsx("input",{ref:i,className:_(l.input,a,{[l.invalid]:s}),...c})}),v="_header_16joa_1",k="_headerInput_16joa_21",b="_headerImg_16joa_35",y="_headerInp_16joa_21",d={header:v,headerInput:k,headerImg:b,headerInp:y};function E(){return t.jsxs("div",{className:d.header,children:[t.jsx(C,{children:"Меню"}),t.jsxs("div",{className:d.headerInput,children:[t.jsx("img",{className:d.headerImg,src:"./search.svg",alt:"search"}),t.jsx(N,{className:d.headerInp,placeholder:"Введите блюдо или состав"})]})]})}const $="_menu_glkx1_1",S="_blockCard_glkx1_7",u={menu:$,blockCard:S},A="_item_1aw2g_1",L={item:A};function p({children:e,filter:s,className:a}){return t.jsxs("div",{className:_(L.item,a),children:[e," ",s==="rub"?t.jsx("span",{children:"₽"}):t.jsx("img",{src:"./star.svg",alt:"лого звезд"})]})}const F="_productCart_o57ps_1",P="_link_o57ps_35",R="_price_o57ps_99",T="_rating_o57ps_149",r={productCart:F,link:P,"productCart-body":"_productCart-body_o57ps_43","productCart-head":"_productCart-head_o57ps_51","productCart-title":"_productCart-title_o57ps_71","productCart-text":"_productCart-text_o57ps_89",price:R,"add-to-cart":"_add-to-cart_o57ps_111",rating:T};function w(e){return t.jsx(g,{to:`/react-vite-ts-shop/product/${e.id}`,className:r.link,children:t.jsxs("button",{className:r.productCart,children:[t.jsxs("div",{className:r["productCart-head"],style:{backgroundImage:`url('${e.image}')`},children:[t.jsx(p,{className:r.price,filter:"rub",children:e.price}),t.jsx("button",{className:r["add-to-cart"],children:t.jsx("img",{src:"./addcart.svg",alt:"Добавить в корзину"})}),t.jsx(p,{className:r.rating,filter:"star",children:e.rating})]}),t.jsxs("div",{className:r["productCart-body"],children:[t.jsx("div",{className:r["productCart-title"],children:e.name}),t.jsx("div",{className:r["productCart-text"],children:e.description})]})]})})}function H({products:e}){return e.map(s=>t.jsx(w,{id:s.id,name:s.name,description:s.ingredients.join(", "),price:s.price,rating:s.rating,image:s.image},s.id))}function et(){const[e,s]=o.useState([]),[a,c]=o.useState(!1),[i,h]=o.useState(),x=async()=>{try{c(!0);const{data:n}=await m.get(`${j}/products`);s(n),c(!1)}catch(n){console.error(n),n instanceof f&&h(n.message),c(!1);return}};return o.useEffect(()=>{x()},[]),t.jsxs("div",{className:u.menu,children:[t.jsx(E,{}),t.jsxs("div",{className:u.blockCard,children:[i&&t.jsx(t.Fragment,{children:i}),!a&&t.jsx(H,{products:e}),a&&t.jsx(t.Fragment,{children:"Загрузка..."})]})]})}export{et as default};
